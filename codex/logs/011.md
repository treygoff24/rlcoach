# Ticket 011 — Report Generator & CLI

Implemented end-to-end report generation and CLI integration:

- `src/rlcoach/report.py`
  - Orchestrates ingest → parser (null) → normalize → events → analyzers
  - Produces schema-conformant success payloads with:
    - metadata (frame rate, total frames, coordinate reference)
    - quality (parser info + warnings)
    - teams, players, events (empty arrays in header-only)
    - analysis (team, player keyed per schema, empty insights)
  - Error contract on failure: `{ "error": "unreadable_replay_file", "details": str(e) }`
  - Atomic JSON writes via `write_report_atomically`

- `src/rlcoach/cli.py`
  - Adds `analyze` subcommand with `--header-only`, `--out`, `--pretty`
  - Validates success reports before writing; writes error JSON otherwise

- Tests:
  - `tests/test_report_end_to_end.py`:
    - CLI `analyze` success using synthetic replay bytes (magic header, >10KB)
    - Error path ensures error contract and schema validation

Validation:
```
pytest -q
199 passed
```

Notes:
- Uses null adapter; future adapters can extend without changing CLI.
- Deterministic timestamps (UTC, seconds precision) and atomic writes.
