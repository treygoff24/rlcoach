title: "[rlcoach] Capture boost pad telemetry baseline for parser parity"
type: docs
priority: P0
branch: "feature/bpa-01-telemetry-baseline"
repo:
  url: https://github.com/treygoff/rlcoach
  root: .
  paths_in_scope:
    - parsers/rlreplay_rust/src/lib.rs
    - parsers/rlreplay_rust/examples/**
    - codex/logs/**
    - scripts/**
  paths_out_of_scope:
    - src/rlcoach/**
    - tests/**
context:
  stack: {lang: Rust, runtime: Python 3.10}
  versions: {rust: "1.75+", python: "3.10"}
  style_guides: ["codex/docs/gpt5-codex-ticketing-guide.md", "codex/docs/gpt5-prompting-best-practices-guide.md"]
  related_issues: ["codex/Plans/1015_boost_pickup_rewrite_followup_plan.md"]
problem_statement: >
  We need authoritative telemetry to validate boost pad attribution fixes. Add targeted debug harness improvements,
  capture actor/pickup traces for representative replays (standard + variant arenas), and quantify the existing parity
  gap versus Ballchasing so later tickets can prove convergence.
non_goals:
  - Do not modify production parser logic beyond debug output needed for dumps.
  - Do not attempt to fix attribution or pad snapping in this ticket.
constraints:
  - Keep debug utilities behind explicit flags/env vars so normal runs stay unchanged.
  - Ensure captured logs redact PII and only include replay-derived identifiers.
  - Store artifacts under `codex/logs/` with date-stamped filenames and document how to regenerate them.
artifacts_expected:
  output_mode: diff
  pr_title_template: "[telemetry] Capture boost pad ground truth logs"
  pr_body_sections: ["Context", "Implementation", "Tests", "Logs", "Follow-ups"]
  decision_log: true
acceptance_criteria:
  - [ ] Extend the Rust `debug_first_frames` tooling (or equivalent example) to emit boost-related actor updates (Trajectory, RigidBody, Pickup/PickupNew/ReplicatedPickupData) for the first N frames.
  - [ ] Produce telemetry dumps for at least three replays: standard Soccar, alt arena with shifted pads, and an older-engine replay.
  - [ ] Commit summarized findings in `codex/logs/` describing unresolved pad events and parity deltas.
  - [ ] Document reproduction commands inside each log file header so future runs are reproducible.
verification:
  repro_steps: |
    # Should emit debug output without affecting normal CLI usage
    cargo run --example debug_first_frames -- Replay_files/<sample>.replay --max-frames 500
  checks:
    - cmd: "cargo test -p rlreplay_rust --lib pads -- --nocapture"
    - cmd: "python -m scripts.boost_parity_summary codex/logs/<latest-telemetry>.json"
workflow_expectations:
  - plan-first
  - implement
  - self-check
  - emit_patch
  - run_verification
  - summarize
codex:
  approvals: all
  sandbox: workspace-write
  web_search: false
  progress: brief
  review:
    ask_for_diff_format: unified
  agents_md: true
